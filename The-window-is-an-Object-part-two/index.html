<!DOCTYPE html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><link href=http://gmpg.org/xfn/11 rel=profile><meta http-equiv=content-type content="text/html; charset=utf-8"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>The window is an Object (part 2)! &middot; antonio's blog</title><link rel=stylesheet href=/assets/stylesheets/style.min.css><link href="http://fonts.googleapis.com/css?family=Raleway" rel=stylesheet type=text/css><link rel=stylesheet href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400"><script src=/assets/javascript/all.min.js></script><link rel=apple-touch-icon sizes=57x57 href=/assets/images/favicons/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/assets/images/favicons/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/assets/images/favicons/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/assets/images/favicons/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/assets/images/favicons/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/assets/images/favicons/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/assets/images/favicons/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/assets/images/favicons/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/assets/images/favicons/apple-touch-icon-180x180.png><link rel=icon type=image/png href=/assets/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/assets/images/favicons/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=/assets/images/favicons/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/assets/images/favicons/favicon-16x16.png sizes=16x16><link rel=manifest href=/assets/images/favicons/manifest.json><link rel=icon href=/assets/images/favicons/favicon.ico? type=image/x-icon><link rel="shortcut icon" href=/assets/images/favicons/favicon.ico?><meta name=apple-mobile-web-app-title content=antonio-p-ortiz><meta name=application-name content=antonio-p-ortiz><meta name=msapplication-TileColor content=#da532c><meta name=msapplication-TileImage content=/assets/images/favicons/mstile-144x144.png><meta name=msapplication-config content=/assets/images/favicons/browserconfig.xml><meta name=theme-color content=#ffffff><link rel=alternate type=application/rss+xml title=RSS href=/atom.xml><style>hr {
        clear: both!important;
        float: none!important;
        width: 100%!important;
        height: 2px!important;
        margin: 1.4em 0!important;
        border: none!important;
        background: #ddd!important;
        background-image: -webkit-gradient( linear, left top, left bottom, color-stop(0.5, rgb(221, 221, 221)), color-stop(0.5, rgb(255, 255, 255)))!important;
        background-image: -moz-linear-gradient( center top, rgb(221, 221, 221) 50%, rgb(255, 255, 255) 50%)!important;
    }</style></head><body class=theme-base-0f><input type=checkbox class=sidebar-checkbox id=sidebar-checkbox><div class=sidebar id=sidebar><div class=sidebar-item><img class=pic-of-me src=/assets/images/pic_of_me.jpg alt=""><p style="margin-top:40px; padding: 0px 20px; text-align:center; font-size: 13.5px">a blog about the dev world and stuff!</p></div><nav class=sidebar-nav><a class=sidebar-nav-item href="/">Home</a> <a class=sidebar-nav-item href="/about/">About me</a> <a class=sidebar-nav-item href="/work/">My work</a> <span class=sidebar-nav-item>Run by <a href=https://twitter.com/antonio_ortiz>@antonio ortiz<a><br><a href="mailto:17antonio.ortiz@gmail.com?Subject=Question?">17antonio.ortiz@gmail.com<a></a></a></span></nav><div class=sidebar-item><p>&copy; 2016. Antonio Pavicevac-Ortiz</p></div></div><div class=wrap><div class=masthead><div class=containerL><h3 class=masthead-title><a href="/" title=Home>antonio's blog</a> <small>a blog about the dev world and stuff!</small></h3></div></div><div class=bodyWrapper><div class=logoContainer><h2 class=title>Let's get out of<br>the desert together!</h2><picture><!--[if IE 9]><video style="display: none;"><![endif]--><source srcset="/assets/images/crest_1920.png, /assets/images/crest_1920@2x.png 2x" class=crestLogo media="(min-width: 960px)"></source><source srcset="/assets/images/crest_960.png, /assets/images/crest_960@2x.png 2x" class=crestLogo media="(min-width: 768px)"></source><source srcset="/assets/images/crest_768.png, /assets/images/crest_768@2x.png 2x" class=crestLogo media="(min-width: 480px)"></source><source srcset="/assets/images/crest_480.png, /assets/images/crest_480@2x.png 2x" class=crestLogo media="(min-width: 320px)"></source><source srcset="/assets/images/crest_320.png, /assets/images/crest_320@2x.png 2x"><!--[if IE 9]></video><![endif]--><img srcset="/assets/images/crest_320.png, /assets/images/crest_320@2x.png 2x" class=crestLogo widtdalt="aortiz crest"></source></picture></div><div class="containerL content"><a id=showHere></a><div class=post><h1 class=post-title>The window is an Object (part 2)!</h1><br><span class=author-name>antonio ortiz</span> <span class=post-date>06 Mar 2016</span><p>Finally the epic conclusion to this long drawn out post!</p><p>Waaay back in part 1, I was trying to articulate a somewhat easy abstraction to better understand what is going on with <code>window</code> object specifically.</p><div class=highlight><pre><code class=language-javascript data-lang=javascript><span class=c1>// simplified example representating the window object</span>
<span class=nx>Window</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nb>Array</span> <span class=c1>// Array function object*</span>
    <span class=nb>Function</span> <span class=c1>// Function function object*</span>
    <span class=nb>Object</span> <span class=c1>//Object function object*</span>

    <span class=c1>//properties</span>
    <span class=nx>clearInterval</span> <span class=c1>//global JS method/function</span>
    <span class=nx>omniPresentCommunication</span> <span class=c1>//function which we set **</span>

    <span class=nx>starship</span> <span class=o>=</span> <span class=p>{....}</span> <span class=c1>//Object we created **</span>
    <span class=nx>setInterval</span> <span class=c1>//global JS method/function</span>
<span class=p>};</span></code></pre></div><p><small>*These are examples of some of the native object constructors</small></p><p>** This is basically a paired down version of what happens when you start declaring objects and methods in the global scope.</p><p>I think using an example we have seen or used many a time could help bring this home&hellip;</p><div class=highlight><pre><code class=language-javascript data-lang=javascript><span class=kd>function</span> <span class=nx>Clonetrooper</span><span class=p>(</span><span class=nx>options</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>options</span> <span class=o>=</span> <span class=nx>options</span> <span class=o>||</span> <span class=p>{};</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>options</span><span class=p>.</span><span class=nx>name</span> <span class=o>||</span> <span class=s1>&#39;Clone&#39;</span><span class=p>;</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>rank</span> <span class=o>=</span> <span class=nx>options</span><span class=p>.</span><span class=nx>rank</span> <span class=o>||</span> <span class=s1>&#39;Ensign&#39;</span><span class=p>;</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>options</span><span class=p>.</span><span class=nx>age</span> <span class=o>||</span> <span class=mi>18</span><span class=p>;</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>yearsOfService</span> <span class=o>=</span> <span class=nx>options</span><span class=p>.</span><span class=nx>yearsOfService</span> <span class=o>||</span> <span class=mi>1</span><span class=p>;</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=nx>options</span><span class=p>.</span><span class=nx>type</span> <span class=o>||</span> <span class=s1>&#39;Trooper&#39;</span><span class=p>;</span>
<span class=p>}</span></code></pre></div><p>Here we have a function demonstrated in a way which will usually serve as a what many <em>incorrectly</em> refer to as a <em>class</em> in JavaScript. (There are no classes in JSâ€”that&rsquo;s for another post).</p><div class=highlight><pre><code class=language-javascript data-lang=javascript><span class=nx>Clonetrooper</span><span class=p>();</span>

<span class=c1>//Our window object</span>
<span class=nx>Window</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nb>Array</span> <span class=c1>// Array function object*</span>
    <span class=nb>Function</span> <span class=c1>// Function function object*</span>
    <span class=nb>Object</span> <span class=c1>//Object function object*</span>
    <span class=nx>Clonetrooper</span> <span class=c1>//Clonetrooper function object*</span>
    <span class=c1>//properties</span>
    <span class=nx>clearInterval</span> <span class=c1>//global JS method/function</span>
    <span class=nx>omniPresentCommunication</span> <span class=c1>//function which we set **</span>

    <span class=nx>starship</span> <span class=o>=</span> <span class=p>{....}</span> <span class=c1>//Object we created **</span>
    <span class=nx>setInterval</span> <span class=c1>//global JS method/function</span>
<span class=p>};</span></code></pre></div><p>You see, when a function is defined in the global scope it simply becomes a property of the global Object (in the browser that&rsquo;s the <em>window</em>, in Node its called <em>global</em>).</p><p>Another interesting thing happens when said function contains the <code>this</code> keyword; Specifically the way the assignment is eventualy carried out.</p><div class=highlight><pre><code class=language-javascript data-lang=javascript><span class=c1>// If invoked like this</span>
<span class=nx>Clonetrooper</span><span class=p>();</span>
<span class=c1>//The &#39;this&#39; keyword will</span>
<span class=c1>//assign those as properties</span>
<span class=c1>//to the Global Object</span>

<span class=c1>//If invoked like this</span>
<span class=kd>var</span> <span class=nx>clonetrooper1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Clonetrooper</span><span class=p>();</span>
<span class=c1>//those properties can assigned to</span>
<span class=c1>//the new object</span></code></pre></div><p>See in the end it all depends on context in JavaScript&hellip;The <code>this</code> keyword is effected by where and how the function is invoked. Kyle Simpson breaks down a handy order of preference which may help with this too.</p><ol><li>If the function is invoked with the new keyword, <code>this</code> point to the new object</li><li>If the function is used with <code>call</code> or <code>apply</code>, the <code>this</code> keyword points to what is passed (naturally) in.</li></ol><div class=highlight><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>salutationType</span> <span class=o>=</span> <span class=s1>&#39;AHOY there!&#39;</span><span class=p>;</span>

<span class=kd>function</span> <span class=nx>greeting</span><span class=p>(){</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;I like to say &#39;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=nx>salutationType</span> <span class=o>+</span> <span class=s1>&#39; when I greet someone!&#39;</span><span class=p>);</span>
<span class=p>}</span>
<span class=kd>var</span> <span class=nx>dog</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Charly&#39;</span><span class=p>,</span>
    <span class=nx>salutationType</span> <span class=o>:</span> <span class=s1>&#39;Woof!&#39;</span>
<span class=p>};</span>
<span class=nx>greeting</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=nx>dog</span><span class=p>);</span></code></pre></div><hr><img class=pic-of-me-posts src=/assets/images/pic_of_me.jpg></div><div class=related><h2>Related Posts</h2><ul class=related-posts><li><h3><a href=/The-window-is-an-Object>The window is an Object! <small>05 Sep 2015</small></a></h3></li><li><h3><a href=/The-window-is-an-Object-part-one-and-a-half>The window is an Object (part 1.5*)! <small>24 Jan 2016</small></a></h3></li><li><h3><a href=/one-month-rails>One Month Rails! <small>20 Jul 2015</small></a></h3></li></ul><ul class=tags><h3>Tags</h3><li><a href="/tags/One Month Rails, Ruby, Rails">One Month Rails, Ruby, Rails</a></li><li><a href="/tags/MVC, JavaScript">MVC, JavaScript</a></li><li><a href=/tags/javascript>javascript</a></li><li><a href="/tags/javascript resources">javascript resources</a></li><li><a href="/tags/this keyword, call and apply methods">this keyword, call and apply methods</a></li></ul></div><div id=disqus_thread></div><script type=text/javascript>/* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'antonio-p-ortiz';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a href=http://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><label for=sidebar-checkbox class=sidebar-toggle></label></body></html>